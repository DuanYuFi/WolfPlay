{"remainingRequest":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js!/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/duanyufi/Web/flower/wolfplay/src/views/Test.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/duanyufi/Web/flower/wolfplay/src/views/Test.vue","mtime":1604116391187},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0ZXN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZXM6ICIiLAogICAgICB3ZWJzb2NrOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLndlYnNvY2suY2xvc2UoKTsgLy/nprvlvIDot6/nlLHkuYvlkI7mlq3lvIB3ZWJzb2NrZXTov57mjqUKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRXZWJTb2NrZXQ6IGZ1bmN0aW9uIGluaXRXZWJTb2NrZXQoKSB7CiAgICAgIC8v5Yid5aeL5YyWd2Vvc29ja2V0CiAgICAgIHZhciB3c3VyaSA9ICJ3czovLzEwLjIxLjE0Mi4yMzU6ODAwMS93cy9jaGF0LyI7CiAgICAgIHRoaXMud2Vic29jayA9IG5ldyBXZWJTb2NrZXQod3N1cmkpOwogICAgICB0aGlzLndlYnNvY2sub25tZXNzYWdlID0gdGhpcy53ZWJzb2NrZXRvbm1lc3NhZ2U7CiAgICAgIHRoaXMud2Vic29jay5vbm9wZW4gPSB0aGlzLndlYnNvY2tldG9ub3BlbjsKICAgICAgdGhpcy53ZWJzb2NrLm9uZXJyb3IgPSB0aGlzLndlYnNvY2tldG9uZXJyb3I7CiAgICAgIHRoaXMud2Vic29jay5vbmNsb3NlID0gdGhpcy53ZWJzb2NrZXRjbG9zZTsKICAgICAgY29uc29sZS5sb2coIldlYnNvY2tldCBpbml0ZWQhIik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMud2Vic29jayk7CiAgICB9LAogICAgd2Vic29ja2V0b25vcGVuOiBmdW5jdGlvbiB3ZWJzb2NrZXRvbm9wZW4oKSB7CiAgICAgIC8v6L+e5o6l5bu656uL5LmL5ZCO5omn6KGMc2VuZOaWueazleWPkemAgeaVsOaNrgogICAgICBjb25zb2xlLmxvZygiV2ViU29ja2V0IG9wZW5lZCEiKTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbmVycm9yOiBmdW5jdGlvbiB3ZWJzb2NrZXRvbmVycm9yKCkgewogICAgICAvL+i/nuaOpeW7uueri+Wksei0pemHjei/ngogICAgICBjb25zb2xlLmxvZygiQ29ubmVjdGlvbiBlcnJvciIpOwogICAgICB0aGlzLmluaXRXZWJTb2NrZXQoKTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbm1lc3NhZ2U6IGZ1bmN0aW9uIHdlYnNvY2tldG9ubWVzc2FnZShlKSB7CiAgICAgIC8v5pWw5o2u5o6l5pS2CiAgICAgIHZhciByZWRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YSk7CiAgICAgIHRoaXMubWVzc2FnZXMgKz0gcmVkYXRhOwogICAgICBjb25zb2xlLmxvZyhyZWRhdGEpOwogICAgfSwKICAgIHdlYnNvY2tldHNlbmQ6IGZ1bmN0aW9uIHdlYnNvY2tldHNlbmQoRGF0YSkgewogICAgICAvL+aVsOaNruWPkemAgQogICAgICB0aGlzLndlYnNvY2suc2VuZChEYXRhKTsKICAgICAgY29uc29sZS5sb2coIkRhdGEgc2VudCIpOwogICAgfSwKICAgIHdlYnNvY2tldGNsb3NlOiBmdW5jdGlvbiB3ZWJzb2NrZXRjbG9zZSgpIHsKICAgICAgLy/lhbPpl60KICAgICAgY29uc29sZS5sb2coJ+aWreW8gOi/nuaOpScpOwogICAgfSwKICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3QoKSB7CiAgICAgIHZhciByZXNwb25zZURhdGEgPSB7fTsKICAgICAgcmVzcG9uc2VEYXRhLmNvbnRlbnQgPSAiYW5vdGhlciBtZXNzYWdlIjsKICAgICAgcmVzcG9uc2VEYXRhLnVzZXIgPSAiRHVhbll1RmkiOwogICAgICByZXNwb25zZURhdGEucm9vbSA9ICIxMjEyMyI7CiAgICAgIHRoaXMud2Vic29ja2V0c2VuZChKU09OLnN0cmluZ2lmeShyZXNwb25zZURhdGEpKTsKICAgICAgY29uc29sZS5sb2codGhpcy53ZWJzb2NrKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,aAAA;AACA,GAVA;AAWA,EAAA,SAXA,uBAWA;AACA,SAAA,OAAA,CAAA,KAAA,GADA,CACA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;AACA,UAAA,KAAA,GAAA,kCAAA;AACA,WAAA,OAAA,GAAA,IAAA,SAAA,CAAA,KAAA,CAAA;AACA,WAAA,OAAA,CAAA,SAAA,GAAA,KAAA,kBAAA;AACA,WAAA,OAAA,CAAA,MAAA,GAAA,KAAA,eAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,KAAA,gBAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,KAAA,cAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA,KAVA;AAWA,IAAA,eAXA,6BAWA;AAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,KAbA;AAcA,IAAA,gBAdA,8BAcA;AAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,WAAA,aAAA;AACA,KAjBA;AAkBA,IAAA,kBAlBA,8BAkBA,CAlBA,EAkBA;AAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AACA,WAAA,QAAA,IAAA,MAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,KAtBA;AAuBA,IAAA,aAvBA,yBAuBA,IAvBA,EAuBA;AAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,KA1BA;AA2BA,IAAA,cA3BA,4BA2BA;AAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,KA7BA;AA8BA,IAAA,IA9BA,kBA8BA;AACA,UAAA,YAAA,GAAA,EAAA;AACA,MAAA,YAAA,CAAA,OAAA,GAAA,iBAAA;AACA,MAAA,YAAA,CAAA,IAAA,GAAA,UAAA;AACA,MAAA,YAAA,CAAA,IAAA,GAAA,OAAA;AACA,WAAA,aAAA,CAAA,IAAA,CAAA,SAAA,CAAA,YAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA;AArCA;AAdA,CAAA","sourcesContent":["<!--<template>\n  <div class=\"title\">\n    <h1>{{ userInfo }}</h1>\n    <v-text-field\n      v-model = \"Form.name\"\n    />\n    <v-btn @click = \"submit\">Submit</v-btn>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport service from '@/utils/request'\nexport default {\n  name: \"Test\",\n  data() {\n    return {\n      Form : {\n        name: \"\"\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(\"user\", [\"userInfo\", \"token\"]),\n  },\n  methods: {\n    async submit() {\n      const res = await service({\n        url: '/user/test/',\n        method: 'post',\n        data: JSON.stringify(this.Form)\n      });\n      console.log(res.data)\n    }\n  }\n}\n</script>\n\n<style lang = \"scss\">\n.title {\n  text-align: center;\n}\n</style>-->\n<template>\n  <div class=\"test\">\n    <p>{{ messages }}</p>\n    <v-btn @click = \"test\">Submit</v-btn>\n  </div>\n</template>\n\n<script>\n  export default {\n    name : 'test',\n    data() {\n      return {\n        messages: \"\",\n        websock: null,\n      }\n    },\n    created() {\n      this.initWebSocket();\n    },\n    destroyed() {\n      this.websock.close() //离开路由之后断开websocket连接\n    },\n    methods: {\n      initWebSocket(){ //初始化weosocket\n        const wsuri = \"ws://10.21.142.235:8001/ws/chat/\";\n        this.websock = new WebSocket(wsuri);\n        this.websock.onmessage = this.websocketonmessage;\n        this.websock.onopen = this.websocketonopen;\n        this.websock.onerror = this.websocketonerror;\n        this.websock.onclose = this.websocketclose;\n        console.log(\"Websocket inited!\");\n        console.log(this.websock)\n      },\n      websocketonopen(){ //连接建立之后执行send方法发送数据\n        console.log(\"WebSocket opened!\");\n      },\n      websocketonerror(){//连接建立失败重连\n        console.log(\"Connection error\");\n        this.initWebSocket();\n      },\n      websocketonmessage(e){ //数据接收\n        const redata = JSON.parse(e.data);\n        this.messages += redata;\n        console.log(redata);\n      },\n      websocketsend(Data){//数据发送\n        this.websock.send(Data);\n        console.log(\"Data sent\");\n      },\n      websocketclose(){  //关闭\n        console.log('断开连接');\n      },\n      test() {\n        var responseData = {};\n        responseData.content = \"another message\";\n        responseData.user = \"DuanYuFi\";\n        responseData.room = \"12123\";\n        this.websocketsend(JSON.stringify(responseData));\n        console.log(this.websock);\n      }\n    },\n  }\n</script>\n<style lang='less'>\n \n</style>\n"],"sourceRoot":"src/views"}]}