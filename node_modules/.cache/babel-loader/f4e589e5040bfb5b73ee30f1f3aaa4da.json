{"remainingRequest":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js!/home/duanyufi/Web/flower/wolfplay/node_modules/eslint-loader/index.js??ref--13-0!/home/duanyufi/Web/flower/wolfplay/src/store/modules/user.js","dependencies":[{"path":"/home/duanyufi/Web/flower/wolfplay/src/store/modules/user.js","mtime":1604159709922},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZHVhbnl1ZmkvV2ViL2Zsb3dlci93b2xmcGxheS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2R1YW55dWZpL1dlYi9mbG93ZXIvd29sZnBsYXkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBsb2dpbiwgbG9nb3V0LCBjcmVhdGVSb29tLCBqb2luUm9vbSwgbGVhdmVSb29tIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwpleHBvcnQgdmFyIHVzZXIgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgdXNlckluZm86IHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBlbWFpbDogJycsCiAgICAgIElzQWRtaW46IGZhbHNlLAogICAgICB1dWlkOiAnJywKICAgICAgcm9vbTogJycsCiAgICAgIGlzSG9zdDogZmFsc2UKICAgIH0sCiAgICB0b2tlbjogJycsCiAgICBleHBpcmVzQXQ6ICcnCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhzdGF0ZSwgdXNlckluZm8pIHsKICAgICAgLy8g6L+Z6YeM55qEIGBzdGF0ZWAg5a+56LGh5piv5qih5Z2X55qE5bGA6YOo54q25oCBCiAgICAgIHN0YXRlLnVzZXJJbmZvID0gdXNlckluZm87CiAgICB9LAogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICAvLyDov5nph4znmoQgYHN0YXRlYCDlr7nosaHmmK/mqKHlnZfnmoTlsYDpg6jnirbmgIEKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBzZXRFeHBpcmVzQXQ6IGZ1bmN0aW9uIHNldEV4cGlyZXNBdChzdGF0ZSwgZXhwaXJlc0F0KSB7CiAgICAgIC8vIOi/memHjOeahCBgc3RhdGVgIOWvueixoeaYr+aooeWdl+eahOWxgOmDqOeKtuaAgQogICAgICBzdGF0ZS5leHBpcmVzQXQgPSBleHBpcmVzQXQ7CiAgICB9LAogICAgc2V0Um9vbTogZnVuY3Rpb24gc2V0Um9vbShzdGF0ZSwgcm9vbUlEKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvLnJvb20gPSByb29tSUQ7CiAgICB9LAogICAgc2V0SG9zdDogZnVuY3Rpb24gc2V0SG9zdChzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mby5pc0hvc3QgPSB0cnVlOwogICAgfSwKICAgIExvZ2luT3V0OiBmdW5jdGlvbiBMb2dpbk91dChzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHt9OwogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgICBzdGF0ZS5leHBpcmVzQXQgPSAnJzsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdIb21lJywKICAgICAgICByZXBsYWNlOiB0cnVlCiAgICAgIH0pOwogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgUmVzZXRVc2VySW5mbzogZnVuY3Rpb24gUmVzZXRVc2VySW5mbyhzdGF0ZSkgewogICAgICB2YXIgdXNlckluZm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICBzdGF0ZS51c2VySW5mbyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudXNlckluZm8pLCB1c2VySW5mbyk7CiAgICB9LAogICAgZGVsZXRlSG9zdDogZnVuY3Rpb24gZGVsZXRlSG9zdChzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mby5pc0hvc3QgPSBmYWxzZTsKICAgIH0KICB9LAoKICAvKgogICByZXMuZGF0YSB7CiAgICAgdXNlckluZm86IGNsYXNzLCAKICAgICB0b2tlbjogc3RyaW5nLAogICAgICBleHBpcmVzQXQ6IHN0cmluZywKICAgICAgY29kZTogaW50LAogICB9CiAgICovCiAgYWN0aW9uczogewogICAgcmVtb3ZlSG9zdDogZnVuY3Rpb24gcmVtb3ZlSG9zdChfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCdkZWxldGVIb3N0Jyk7CiAgICB9LAogICAgbmV3Um9vbTogZnVuY3Rpb24gbmV3Um9vbShfcmVmMiwgaW5mbykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVSb29tKGluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRSb29tJywgcmVzLmRhdGEpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRIb3N0Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXMuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBqb2luUm9vbUluOiBmdW5jdGlvbiBqb2luUm9vbUluKF9yZWYzLCBpbmZvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGpvaW5Sb29tKGluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0Um9vbScsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXMuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxlYXZlUm9vbU91dDogZnVuY3Rpb24gbGVhdmVSb29tT3V0KF9yZWY0LCBpbmZvKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBjb21taXQsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxlYXZlUm9vbShpbmZvKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFJvb20nLCAiIik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzLmNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBMb2dpbkluOiBmdW5jdGlvbiBMb2dpbkluKF9yZWY1LCBsb2dpbkluZm8pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzLCByZWRpcmVjdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luKGxvZ2luSW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlckluZm8nLCByZXMudXNlckluZm8pOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIHJlcy50b2tlbik7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEV4cGlyZXNBdCcsIHJlcy5leHBpcmVzQXQpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5jb2RlID09PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucXVlcnkucmVkaXJlY3Q7CgogICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiByZWRpcmVjdAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlcy5jb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXMuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBMb2dpbk91dDogZnVuY3Rpb24gTG9naW5PdXQoX3JlZjYsIGxvZ291dEluZm8pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9nb3V0KGxvZ291dEluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBjb21taXQoJ0xvZ2luT3V0Jyk7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHJlcy5jb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICB1c2VySW5mbzogZnVuY3Rpb24gdXNlckluZm8oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvOwogICAgfSwKICAgIHRva2VuOiBmdW5jdGlvbiB0b2tlbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudG9rZW47CiAgICB9LAogICAgZXhwaXJlc0F0OiBmdW5jdGlvbiBleHBpcmVzQXQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmV4cGlyZXNBdDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/duanyufi/Web/flower/wolfplay/src/store/modules/user.js"],"names":["login","logout","createRoom","joinRoom","leaveRoom","router","user","namespaced","state","userInfo","username","email","IsAdmin","uuid","room","isHost","token","expiresAt","mutations","setUserInfo","setToken","setExpiresAt","setRoom","roomID","setHost","LoginOut","push","name","replace","sessionStorage","clear","window","location","reload","ResetUserInfo","deleteHost","actions","removeHost","commit","newRoom","info","res","data","code","joinRoomIn","leaveRoomOut","LoginIn","loginInfo","redirect","history","current","query","path","logoutInfo","console","log","getters"],"mappings":"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","sourcesContent":["import { login, logout, createRoom, joinRoom, leaveRoom } from '@/api/user'\nimport router from '@/router/index'\n\nexport const user = {\n  namespaced: true,\n  state: {\n    userInfo: {\n      username: '',\n      email: '',\n      IsAdmin: false,\n      uuid: '',\n      room: '',\n      isHost: false,\n    },\n    token: '',\n    expiresAt: ''\n  },\n  mutations: {\n    setUserInfo(state, userInfo) {\n      // 这里的 `state` 对象是模块的局部状态\n      state.userInfo = userInfo\n    },\n    setToken(state, token) {\n      // 这里的 `state` 对象是模块的局部状态\n      state.token = token\n    },\n    setExpiresAt(state, expiresAt) {\n      // 这里的 `state` 对象是模块的局部状态\n      state.expiresAt = expiresAt\n    },\n    setRoom(state, roomID) {\n      state.userInfo.room = roomID\n    },\n    setHost(state) {\n      state.userInfo.isHost = true;\n    }\n    ,\n    LoginOut(state) {\n      state.userInfo = {}\n      state.token = ''\n      state.expiresAt = ''\n      router.push({ name: 'Home', replace: true })\n      sessionStorage.clear()\n      window.location.reload()\n    },\n    ResetUserInfo(state, userInfo = {}) {\n      state.userInfo = {\n        ...state.userInfo,\n        ...userInfo\n      }\n    },\n    deleteHost(state) {\n      state.userInfo.isHost = false;\n    }\n  },\n  /*\n   res.data {\n     userInfo: class, \n     token: string,\n      expiresAt: string,\n      code: int,\n   }\n   */\n  actions: {\n    removeHost({commit}) {\n        commit('deleteHost');\n    },\n    async newRoom({ commit }, info) {\n      const res = await createRoom(info);\n      commit('setRoom', res.data);\n      commit('setHost');\n      return res.code;\n    },\n    async joinRoomIn({ commit }, info) {\n      const res = await joinRoom(info);\n      commit('setRoom', res.data);\n      return res.code;\n    },\n    async leaveRoomOut({ commit }, info) {\n      const res = await leaveRoom(info);\n      commit('setRoom', \"\");\n      return res.code;\n    },\n    async LoginIn({ commit }, loginInfo) {\n      const res = await login(loginInfo)\n      // console.log(res);\n      commit('setUserInfo', res.userInfo)\n      commit('setToken', res.token)\n      commit('setExpiresAt', res.expiresAt)\n      if (res.code === 0) {\n        const redirect = router.history.current.query.redirect\n        if (redirect) {\n          router.push({ path: redirect })\n        } else {\n          router.push({ name: 'Home' })\n        }\n        return res.code\n      } else {\n        return res.code\n      }\n    },\n    async LoginOut({ commit }, logoutInfo) {\n      const res = await logout(logoutInfo);\n      console.log(res)\n      commit('LoginOut');\n      if (res.code === 0) {\n        router.push({ name: 'Home' })\n      }\n      return res.code\n    }\n  },\n  getters: {\n    userInfo(state) {\n      return state.userInfo\n    },\n    token(state) {\n      return state.token\n    },\n    expiresAt(state) {\n      return state.expiresAt\n    }\n  }\n}\n"]}]}