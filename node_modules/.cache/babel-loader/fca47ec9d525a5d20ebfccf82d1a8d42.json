{"remainingRequest":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js!/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/duanyufi/Web/flower/wolfplay/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/duanyufi/Web/flower/wolfplay/src/views/Register.vue","mtime":1602678078907},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZHVhbnl1ZmkvV2ViL2Zsb3dlci93b2xmcGxheS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2R1YW55dWZpL1dlYi9mbG93ZXIvd29sZnBsYXkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCBtZDUgZnJvbSAnQC91dGlscy9tZDUuanMnOyAvLyBpbXBvcnQgeyBjaGVjayB9IGZyb20gJ0AvYXBpL3VzZXInCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBzaG93OiBmYWxzZSwKICAgICAgc2hvdzI6IGZhbHNlLAogICAgICBpc1dhaXRpbmc6IGZhbHNlLAogICAgICByZVBhc3N3b3JkOiAnJywKICAgICAgcmVnaXN0ZXJGb3JtOiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIGVycm9yTXNnOiAnJywKICAgICAgcnVsZXM6IHsKICAgICAgICBlbWFpbFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAhIXYgfHwgJ+ivt+Whq+WGmemCrueusSc7CiAgICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICfor7fovpPlhaXmraPnoa7nmoTpgq7nrrEnOwogICAgICAgIH1dLAogICAgICAgIHVzZXJuYW1lUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuICEhdiB8fCAn6K+36L6T5YWl55So5oi35ZCNJzsKICAgICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYgJiYgdi5sZW5ndGggPj0gMyB8fCAn55So5oi35ZCN6ZW/5bqm5b+F6aG75aSn5LqOMic7CiAgICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2ICYmIHYubGVuZ3RoIDw9IDE2IHx8ICfnlKjmiLflkI3plb/luqblv4XpobvlsI/kuo7nrYnkuo4xNic7CiAgICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAvXlthLXpBLVowLTlfLV17MywxNn0kLy50ZXN0KHYpIHx8ICfpnZ7ms5XnlKjmiLflkI0nOwogICAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuY2hlY2tGb3JtKHYpIHx8ICfnlKjmiLflkI3lt7Looqvkvb/nlKgnOwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuICEhdiB8fCAn6K+36L6T5YWl5a+G56CBJzsKICAgICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYgJiYgdi5sZW5ndGggPj0gOCB8fCAn5a+G56CB6ZW/5bqm5b+F6aG75aSn5LqO562J5LqOOCc7CiAgICAgICAgfV0sCiAgICAgICAgcmVQYXNzd29yZFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAhIXYgfHwgJ+ivt+mHjeaWsOi+k+WFpeWvhueggSc7CiAgICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAoISF2ICYmIHYpID09PSBfdGhpcy5yZWdpc3RlckZvcm0ucGFzc3dvcmQgfHwgJ+S4pOasoei+k+WFpeS4jeS4gOiHtCc7CiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygndXNlcicsIFsnTG9naW5JbiddKSksIHt9LCB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN1YkZvcm0sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi4kcmVmcy5yZWdpc3RlckZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3ViRm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMyLnJlZ2lzdGVyRm9ybSkpOwogICAgICAgICAgICAgICAgc3ViRm9ybS5wYXNzd29yZCA9IG1kNShzdWJGb3JtLnBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyKHN1YkZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzcycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tGb3JtOiBmdW5jdGlvbiBjaGVja0Zvcm0obmFtZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLiRyZWZzLnJlZ2lzdGVyRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJy91c2VyL3JlZ2lzdGVyL2NoZWNrJywgewogICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YSA9PT0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"register\">\n    <vue-particles\n      color=\"#dedede\"\n      :particle-opacity=\"0.8\"\n      :particles-number=\"50\"\n      shape-type=\"circle\"\n      :particle-size=\"12\"\n      lines-color=\"#dedede\"\n      :lines-width=\"1\"\n      :line-linked=\"true\"\n      :line-opacity=\"0.4\"\n      :lines-distance=\"150\"\n      :move-speed=\"2\"\n      :hover-effect=\"true\"\n      hover-mode=\"grab\"\n      :click-effect=\"false\"\n    />\n    <v-container\n      class=\"fill-height warpper\"\n      fluid\n    >\n      <v-row\n        align=\"center\"\n        justify=\"center\"\n      >\n        <v-col\n          cols=\"12\"\n          sm=\"8\"\n          md=\"4\"\n        >\n          <v-card class=\"elevation-12\">\n            <v-toolbar\n              color=\"primary\"\n              dark\n              flat\n            >\n              <v-toolbar-title>注册</v-toolbar-title>\n            </v-toolbar>\n            <v-card-text>\n              <v-form\n                ref=\"registerForm\"\n                v-model=\"valid\"\n              >\n                <v-text-field\n                  v-model=\"registerForm.username\"\n                  :rules=\"rules.usernameRules\"\n                  label=\"用户名\"\n                  name=\"login\"\n                  prepend-icon=\"mdi-account\"\n                  type=\"text\"\n                />\n                <v-text-field\n                  id=\"password\"\n                  label=\"密码\"\n                  name=\"password\"\n                  prepend-icon=\"mdi-lock\"\n                  v-model=\"registerForm.password\"\n                  :rules=\"rules.passwordRules\"\n                  :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n                  :type=\"show ? 'text' : 'password'\"\n                  @click:append=\"show = !show\"\n                />\n                <v-text-field\n                  id=\"rePassword\"\n                  label=\"再次输入密码\"\n                  name=\"rePassword\"\n                  prepend-icon=\"mdi-lock-outline\"\n                  :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\n                  :type=\"show2 ? 'text' : 'password'\"\n                  v-model=\"rePassword\"\n                  :rules=\"rules.rePasswordRules\"\n                  @click:append=\"show2 = !show2\"\n                />\n                <v-text-field\n                  v-model=\"registerForm.email\"\n                  :rules=\"rules.emailRules\"\n                  label=\"邮箱\"\n                  name=\"login\"\n                  prepend-icon=\"mdi-email\"\n                  type=\"text\"\n                />\n              </v-form>\n              <!--<v-alert type=\"success\">I'm a success alert.</v-alert>-->\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer />\n              <v-btn\n                @click=\"submitForm\"\n                color=\"primary\"\n              >\n                注册\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { register } from '@/api/user'\nimport md5 from '@/utils/md5.js'\n// import { check } from '@/api/user'\nimport axios from 'axios'\nexport default {\n  name: 'Register',\n  data () {\n    return {\n      show: false,\n      show2: false,\n      isWaiting: false,\n      rePassword: '',\n      registerForm: {\n        email: '',\n        username: '',\n        password: '',\n      },\n      valid: true,\n      errorMsg: '',\n      rules: {\n        emailRules: [\n          v => !!v || '请填写邮箱',\n          v => /.+@.+\\..+/.test(v) || '请输入正确的邮箱'\n        ],\n        usernameRules: [\n          v => !!v || '请输入用户名',\n          v => (v && v.length >= 3) || '用户名长度必须大于2',\n          v => (v && v.length <= 16) || '用户名长度必须小于等于16',\n          v => /^[a-zA-Z0-9_-]{3,16}$/.test(v) ||  '非法用户名',\n          v => this.checkForm(v) || '用户名已被使用'\n        ],\n        passwordRules: [\n          v => !!v || '请输入密码',\n          v => (v && v.length >= 8) || '密码长度必须大于等于8'\n        ],\n        rePasswordRules: [\n          v => !!v || '请重新输入密码',\n          v =>\n            (!!v && v) === this.registerForm.password ||\n            '两次输入不一致'\n        ]\n      }\n    }\n  },\n  methods: {\n    ...mapActions('user', ['LoginIn']),\n    async submitForm () {\n      if (this.$refs.registerForm.validate()) {\n        var subForm = JSON.parse(JSON.stringify(this.registerForm));\n        subForm.password = md5(subForm.password);\n        const res = await register(subForm);\n        if (res.code === 0) {\n          console.log('Success');\n          this.$router.push({ name: 'Home' });\n        }\n      }\n    },\n    async checkForm (name) {\n      if (this.$refs.registerForm.validate()) {\n        axios\n        .post('/user/register/check', {\n          name: name,\n        })\n        .then(function (response) {\n          return response.data === true;\n        })\n      }\n      return false;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.warpper {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  display: flex;\n}\n</style>\n"],"sourceRoot":"src/views"}]}