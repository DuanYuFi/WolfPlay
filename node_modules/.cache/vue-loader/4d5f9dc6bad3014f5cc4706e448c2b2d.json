{"remainingRequest":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/duanyufi/Web/flower/wolfplay/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/duanyufi/Web/flower/wolfplay/src/views/Register.vue","mtime":1602727833370},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICJAL2FwaS91c2VyIjsKaW1wb3J0IG1kNSBmcm9tICJAL3V0aWxzL21kNS5qcyI7Ci8vIGltcG9ydCB7IGNoZWNrIH0gZnJvbSAnQC9hcGkvdXNlcicKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBzaG93MjogZmFsc2UsCiAgICAgIGlzV2FpdGluZzogZmFsc2UsCiAgICAgIHJlUGFzc3dvcmQ6ICIiLAogICAgICByZWdpc3RlckZvcm06IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgaW52YWxpZDogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZW1haWxSdWxlczogWwogICAgICAgICAgKHYpID0+ICEhdiB8fCAi6K+35aGr5YaZ6YKu566xIiwKICAgICAgICAgICh2KSA9PiAvLitALitcLi4rLy50ZXN0KHYpIHx8ICLor7fovpPlhaXmraPnoa7nmoTpgq7nrrEiLAogICAgICAgIF0sCiAgICAgICAgdXNlcm5hbWVSdWxlczogWwogICAgICAgICAgKHYpID0+ICEhdiB8fCAi6K+36L6T5YWl55So5oi35ZCNIiwKICAgICAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA+PSAzKSB8fCAi55So5oi35ZCN6ZW/5bqm5b+F6aG75aSn5LqOMiIsCiAgICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTYpIHx8ICLnlKjmiLflkI3plb/luqblv4XpobvlsI/kuo7nrYnkuo4xNiIsCiAgICAgICAgICAodikgPT4gL15bYS16QS1aMC05Xy1dezMsMTZ9JC8udGVzdCh2KSB8fCAi6Z2e5rOV55So5oi35ZCNIiwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkUnVsZXM6IFsKICAgICAgICAgICh2KSA9PiAhIXYgfHwgIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICAodikgPT4gKHYgJiYgdi5sZW5ndGggPj0gOCkgfHwgIuWvhueggemVv+W6puW/hemhu+Wkp+S6juetieS6jjgiLAogICAgICAgIF0sCiAgICAgICAgcmVQYXNzd29yZFJ1bGVzOiBbCiAgICAgICAgICAodikgPT4gISF2IHx8ICLor7fph43mlrDovpPlhaXlr4bnoIEiLAogICAgICAgICAgKHYpID0+ICghIXYgJiYgdikgPT09IHRoaXMucmVnaXN0ZXJGb3JtLnBhc3N3b3JkIHx8ICLkuKTmrKHovpPlhaXkuI3kuIDoh7QiLAogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygidXNlciIsIFsiTG9naW5JbiJdKSwKICAgIGFzeW5jIHN1Ym1pdEZvcm0oKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLnJlZ2lzdGVyRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdmFyIHN1YkZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucmVnaXN0ZXJGb3JtKSk7CiAgICAgICAgc3ViRm9ybS5wYXNzd29yZCA9IG1kNShzdWJGb3JtLnBhc3N3b3JkKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZWdpc3RlcihzdWJGb3JtKTsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzIik7CiAgICAgICAgICBpZiAocmVzLmNoZWNrID09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuaW52YWxpZCA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmludmFsaWQgPSBmYWxzZTsKICAgICAgICAgICAgYWxlcnQoIuazqOWGjOaIkOWKn++8gSIpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJMb2dpbiIgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"register\">\n    <vue-particles\n      color=\"#dedede\"\n      :particle-opacity=\"0.8\"\n      :particles-number=\"50\"\n      shape-type=\"circle\"\n      :particle-size=\"12\"\n      lines-color=\"#dedede\"\n      :lines-width=\"1\"\n      :line-linked=\"true\"\n      :line-opacity=\"0.4\"\n      :lines-distance=\"150\"\n      :move-speed=\"2\"\n      :hover-effect=\"true\"\n      hover-mode=\"grab\"\n      :click-effect=\"false\"\n    />\n    <v-container class=\"fill-height warpper\" fluid>\n      <v-row align=\"center\" justify=\"center\">\n        <v-col cols=\"12\" sm=\"8\" md=\"4\">\n          <v-card class=\"elevation-12\">\n            <v-toolbar color=\"primary\" dark flat>\n              <v-toolbar-title>注册</v-toolbar-title>\n            </v-toolbar>\n            <v-card-text>\n              <v-form ref=\"registerForm\" v-model=\"valid\">\n                <v-text-field\n                  v-model=\"registerForm.username\"\n                  :rules=\"rules.usernameRules\"\n                  label=\"用户名\"\n                  name=\"login\"\n                  prepend-icon=\"mdi-account\"\n                  type=\"text\"\n                  @change=\"invalid = false\"\n                />\n                <v-text-field\n                  id=\"password\"\n                  label=\"密码\"\n                  name=\"password\"\n                  prepend-icon=\"mdi-lock\"\n                  v-model=\"registerForm.password\"\n                  :rules=\"rules.passwordRules\"\n                  :append-icon=\"show ? 'mdi-eye' : 'mdi-eye-off'\"\n                  :type=\"show ? 'text' : 'password'\"\n                  @click:append=\"show = !show\"\n                />\n                <v-text-field\n                  id=\"rePassword\"\n                  label=\"再次输入密码\"\n                  name=\"rePassword\"\n                  prepend-icon=\"mdi-lock-outline\"\n                  :append-icon=\"show2 ? 'mdi-eye' : 'mdi-eye-off'\"\n                  :type=\"show2 ? 'text' : 'password'\"\n                  v-model=\"rePassword\"\n                  :rules=\"rules.rePasswordRules\"\n                  @click:append=\"show2 = !show2\"\n                />\n                <v-text-field\n                  v-model=\"registerForm.email\"\n                  :rules=\"rules.emailRules\"\n                  label=\"邮箱\"\n                  name=\"login\"\n                  prepend-icon=\"mdi-email\"\n                  type=\"text\"\n                />\n              </v-form>\n              <!--<v-alert type=\"success\">I'm a success alert.</v-alert>-->\n              <v-alert v-if=\"invalid\" dense outlined type=\"error\">\n                用户名已被注册！\n              </v-alert>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer />\n              <v-btn @click=\"submitForm\" color=\"primary\"> 注册 </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport { register } from \"@/api/user\";\nimport md5 from \"@/utils/md5.js\";\n// import { check } from '@/api/user'\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      show: false,\n      show2: false,\n      isWaiting: false,\n      rePassword: \"\",\n      registerForm: {\n        email: \"\",\n        username: \"\",\n        password: \"\",\n      },\n      invalid: false,\n      rules: {\n        emailRules: [\n          (v) => !!v || \"请填写邮箱\",\n          (v) => /.+@.+\\..+/.test(v) || \"请输入正确的邮箱\",\n        ],\n        usernameRules: [\n          (v) => !!v || \"请输入用户名\",\n          (v) => (v && v.length >= 3) || \"用户名长度必须大于2\",\n          (v) => (v && v.length <= 16) || \"用户名长度必须小于等于16\",\n          (v) => /^[a-zA-Z0-9_-]{3,16}$/.test(v) || \"非法用户名\",\n        ],\n        passwordRules: [\n          (v) => !!v || \"请输入密码\",\n          (v) => (v && v.length >= 8) || \"密码长度必须大于等于8\",\n        ],\n        rePasswordRules: [\n          (v) => !!v || \"请重新输入密码\",\n          (v) => (!!v && v) === this.registerForm.password || \"两次输入不一致\",\n        ],\n      },\n    };\n  },\n  methods: {\n    ...mapActions(\"user\", [\"LoginIn\"]),\n    async submitForm() {\n      if (this.$refs.registerForm.validate()) {\n        var subForm = JSON.parse(JSON.stringify(this.registerForm));\n        subForm.password = md5(subForm.password);\n        const res = await register(subForm);\n        if (res.code === 0) {\n          console.log(\"Success\");\n          if (res.check == false) {\n            this.invalid = true;\n          } else {\n            this.invalid = false;\n            alert(\"注册成功！\");\n            this.$router.push({ name: \"Login\" });\n          }\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.warpper {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  display: flex;\n}\n</style>\n"]}]}