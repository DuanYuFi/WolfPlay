{"remainingRequest":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/duanyufi/Web/flower/wolfplay/src/views/Home.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/duanyufi/Web/flower/wolfplay/src/views/Home.vue","mtime":1604131156151},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/duanyufi/Web/flower/wolfplay/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhvbWUgewogIHRleHQtYWxpZ246IGNlbnRlcjsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div v-if=\"userInfo.username.length === 0\">\n      <div class=\"home\">\n        <h1>Welcome to WolfPlay</h1>\n        <h1>Coming soon...</h1>\n      </div>\n    </div>\n    <div v-else>\n      <h1 style=\"padding-left: 10px\">Welcome, {{ userInfo.username }} !</h1>\n      <v-container class=\"fill-height warpper\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar color=\"primary\" dark flat>\n                <v-toolbar-title>加入/创建房间</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form ref=\"loginForm\" v-model=\"valid\">\n                  <v-text-field\n                    v-model=\"roomName\"\n                    label=\"房间名\"\n                    name=\"room\"\n                    prepend-icon=\"mdi-account\"\n                    type=\"text\"\n                  />\n                </v-form>\n              </v-card-text>\n              <v-alert v-if=\"invalid\" dense outlined type=\"error\">\n                {{ errorMsg }}\n              </v-alert>\n              <v-card-actions>\n                <v-spacer />\n                <v-btn @click=\"createRoom\" color=\"primary\"> 创建 </v-btn>\n                <v-btn @click=\"joinRoom\" color=\"primary\"> 进入 </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      roomName: \"\",\n      errorMsg: \"\",\n      invalid: false,\n    };\n  },\n  computed: {\n    ...mapGetters(\"user\", [\"userInfo\"]),\n  },\n  methods: {\n    ...mapActions(\"user\", [\"newRoom\", \"joinRoomIn\"]),\n    createRoom() {\n      console.log(\"In function createRoom\");\n      if (this.roomName.length !== 0) {\n        var submitData = {};\n        submitData.name = this.roomName;\n        submitData.username = this.userInfo.username;\n        const res = this.newRoom(submitData);\n        console.log(res);\n        res\n          .then((code) => {\n            console.log(code);\n            this.$router.push({ name: \"chat\" });\n          })\n          .catch((error) => {\n            this.errorMsg = error;\n            this.invalid = true;\n          });\n      }\n    },\n    joinRoom() {\n      if (this.roomName.length !== 0) {\n        var submitData = {};\n        submitData.name = this.roomName;\n        submitData.username = this.userInfo.username;\n        const res = this.joinRoomIn(submitData);\n        console.log(res);\n        res\n          .then((code) => {\n            console.log(code);\n            this.$router.push({ name: \"chat\" });\n          })\n          .catch((error) => {\n            this.errorMsg = error;\n            this.invalid = true;\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style lang = \"scss\">\n.home {\n  text-align: center;\n}\n</style>"]}]}